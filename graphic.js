(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
var pym=require("./lib/pym");require("./lib/webfonts"),window.Tablesort=require("tablesort"),require("tablesort/dist/sorts/tablesort.number.min"),Tablesort(document.querySelector("#state-table")),pym.then(child=>{child.sendHeight(),window.addEventListener("resize",()=>child.sendHeight())});

},{"./lib/pym":16,"./lib/webfonts":17,"tablesort":19,"tablesort/dist/sorts/tablesort.number.min":18}],17:[function(require,module,exports){
var url="https://apps.npr.org/dailygraphics/graphics/fonts/js/lib/webfont.js",script=document.createElement("script");script.src=url,document.head.appendChild(script),script.onload=function(){WebFont.load({custom:{families:["Gotham SSm:n4,n7","Knockout 31 4r:n4"],urls:["https://s.npr.org/templates/css/fonts/GothamSSm.css","https://s.npr.org/templates/css/fonts/Knockout.css"]},timeout:1e4})};

},{}],19:[function(require,module,exports){
!function(){function Tablesort(el,options){if(!(this instanceof Tablesort))return new Tablesort(el,options);if(!el||"TABLE"!==el.tagName)throw new Error("Element must be a table");this.init(el,options||{})}var sortOptions=[],createEvent=function(name){var evt;return window.CustomEvent&&"function"==typeof window.CustomEvent?evt=new CustomEvent(name):(evt=document.createEvent("CustomEvent")).initCustomEvent(name,!1,!1,void 0),evt},getInnerText=function(el){return el.getAttribute("data-sort")||el.textContent||el.innerText||""},caseInsensitiveSort=function(a,b){return(a=a.trim().toLowerCase())===(b=b.trim().toLowerCase())?0:a<b?1:-1},getCellByKey=function(cells,key){return[].slice.call(cells).find(function(cell){return cell.getAttribute("data-sort-column-key")===key})},stabilize=function(sort,antiStabilize){return function(a,b){var unstableResult=sort(a.td,b.td);return 0===unstableResult?antiStabilize?b.index-a.index:a.index-b.index:unstableResult}};Tablesort.extend=function(name,pattern,sort){if("function"!=typeof pattern||"function"!=typeof sort)throw new Error("Pattern and sort must be a function");sortOptions.push({name:name,pattern:pattern,sort:sort})},Tablesort.prototype={init:function(el,options){var firstRow,defaultSort,i,cell,that=this;if(that.table=el,that.thead=!1,that.options=options,el.rows&&el.rows.length>0)if(el.tHead&&el.tHead.rows.length>0){for(i=0;i<el.tHead.rows.length;i++)if("thead"===el.tHead.rows[i].getAttribute("data-sort-method")){firstRow=el.tHead.rows[i];break}firstRow||(firstRow=el.tHead.rows[el.tHead.rows.length-1]),that.thead=!0}else firstRow=el.rows[0];if(firstRow){var onClick=function(){that.current&&that.current!==this&&that.current.removeAttribute("aria-sort"),that.current=this,that.sortTable(this)};for(i=0;i<firstRow.cells.length;i++)(cell=firstRow.cells[i]).setAttribute("role","columnheader"),"none"!==cell.getAttribute("data-sort-method")&&(cell.tabindex=0,cell.addEventListener("click",onClick,!1),null!==cell.getAttribute("data-sort-default")&&(defaultSort=cell));defaultSort&&(that.current=defaultSort,that.sortTable(defaultSort))}},sortTable:function(header,update){var columnKey=header.getAttribute("data-sort-column-key"),column=header.cellIndex,sortFunction=caseInsensitiveSort,item="",items=[],i=this.thead?0:1,sortMethod=header.getAttribute("data-sort-method"),sortOrder=header.getAttribute("aria-sort");if(this.table.dispatchEvent(createEvent("beforeSort")),update||(sortOrder="ascending"===sortOrder?"descending":"descending"===sortOrder?"ascending":this.options.descending?"descending":"ascending",header.setAttribute("aria-sort",sortOrder)),!(this.table.rows.length<2)){if(!sortMethod){for(;items.length<3&&i<this.table.tBodies[0].rows.length;)(item=(item=(cell=columnKey?getCellByKey(this.table.tBodies[0].rows[i].cells,columnKey):this.table.tBodies[0].rows[i].cells[column])?getInnerText(cell):"").trim()).length>0&&items.push(item),i++;if(!items)return}for(i=0;i<sortOptions.length;i++)if(item=sortOptions[i],sortMethod){if(item.name===sortMethod){sortFunction=item.sort;break}}else if(items.every(item.pattern)){sortFunction=item.sort;break}for(this.col=column,i=0;i<this.table.tBodies.length;i++){var j,newRows=[],noSorts={},totalRows=0,noSortsSoFar=0;if(!(this.table.tBodies[i].rows.length<2)){for(j=0;j<this.table.tBodies[i].rows.length;j++){var cell;"none"===(item=this.table.tBodies[i].rows[j]).getAttribute("data-sort-method")?noSorts[totalRows]=item:(cell=columnKey?getCellByKey(item.cells,columnKey):item.cells[this.col],newRows.push({tr:item,td:cell?getInnerText(cell):"",index:totalRows})),totalRows++}for("descending"===sortOrder?newRows.sort(stabilize(sortFunction,!0)):(newRows.sort(stabilize(sortFunction,!1)),newRows.reverse()),j=0;j<totalRows;j++)noSorts[j]?(item=noSorts[j],noSortsSoFar++):item=newRows[j-noSortsSoFar].tr,this.table.tBodies[i].appendChild(item)}}this.table.dispatchEvent(createEvent("afterSort"))}},refresh:function(){void 0!==this.current&&this.sortTable(this.current,!0)}},"undefined"!=typeof module&&module.exports?module.exports=Tablesort:window.Tablesort=Tablesort}();

},{}],18:[function(require,module,exports){
!function(){var a=function(a){return a.replace(/[^\-?0-9.]/g,"")};Tablesort.extend("number",function(a){return a.match(/^[-+]?[£\x24Û¢´€]?\d+\s*([,\.]\d{0,2})/)||a.match(/^[-+]?\d+\s*([,\.]\d{0,2})?[£\x24Û¢´€]/)||a.match(/^[-+]?(\d)*-?([,\.]){0,1}-?(\d)+([E,e][\-+][\d]+)?%?$/)},function(c,d){return c=a(c),function(a,b){return a=parseFloat(a),b=parseFloat(b),(a=isNaN(a)?0:a)-(b=isNaN(b)?0:b)}(d=a(d),c)})}();

},{}],16:[function(require,module,exports){
var{getParameterByName:getParameterByName}=require("./helpers"),analytics=require("./analytics");switch(module.exports=new Promise(ok=>{var script=document.createElement("script");script.src="https://pym.nprapps.org/pym.v1.min.js",document.head.appendChild(script),script.onload=function(){var child=new pym.Child;ok(child)}}),getParameterByName("mode")){case"hp":document.body.classList.add("hp"),isHomepage=!0;break;case"childlink":document.body.classList.add("childlink")}

},{"./analytics":2,"./helpers":11}],2:[function(require,module,exports){
var{getParameterByName:getParameterByName,urlToLocation:urlToLocation}=require("./helpers"),ANALYTICS=(function(){var i,s,o,r,a,m;i=window,s=document,o="script",r="ga",i.GoogleAnalyticsObject=r,i.ga=i.ga||function(){(i.ga.q=i.ga.q||[]).push(arguments)},i.ga.l=1*new Date,a=s.createElement(o),m=s.getElementsByTagName(o)[0],a.async=1,a.src="https://www.google-analytics.com/analytics.js",m.parentNode.insertBefore(a,m),ga("create",window.GOOGLE_ANALYTICS_ID,"auto",{sampleRate:10});var location=window.location.protocol+"//"+window.location.hostname+window.location.pathname;ga("set","location",location),ga("set","page",window.location.pathname);var parentUrl=getParameterByName("parentUrl")||"",parentHostname="";parentUrl&&(parentHostname=urlToLocation(parentUrl).hostname);var initialWidth=getParameterByName("initialWidth")||"",customData={};customData.dimension1=parentUrl,customData.dimension2=parentHostname,customData.dimension3=initialWidth,ga("send","pageview",customData)}(),{trackEvent:function(eventName,label,value){var eventData={hitType:"event",eventCategory:document.title,eventAction:eventName};label&&(eventData.eventLabel=label),value&&(eventData.eventValue=value);var parentUrl=getParameterByName("parentUrl")||"",parentHostname="";parentUrl&&(parentHostname=urlToLocation(parentUrl).hostname),eventData.dimension1=parentUrl,eventData.dimension2=parentHostname,ga("send",eventData)}});module.exports=ANALYTICS;

},{"./helpers":11}],11:[function(require,module,exports){
module.exports={/* common-shake removed: classify:require("./classify") *//* common-shake removed: COLORS:require("./colors") *//* common-shake removed: fmtComma:require("./fmtComma") *//* common-shake removed: formatDate:require("./formatDate") *//* common-shake removed: formatStyle:require("./formatStyle") *//* common-shake removed: getAPMonth:require("./getAPMonth") *//* common-shake removed: getLocation:require("./getLocation") */getParameterByName:require("./getParameterByName"),/* common-shake removed: isProduction:require("./isProduction") *//* common-shake removed: makeTranslate:require("./makeTranslate") */urlToLocation:require("./urlToLocation"),/* common-shake removed: wrapText:require("./wrapText") */};

},{"./classify":3,"./colors":4,"./fmtComma":5,"./formatDate":6,"./formatStyle":7,"./getAPMonth":8,"./getLocation":9,"./getParameterByName":10,"./isProduction":12,"./makeTranslate":13,"./urlToLocation":14,"./wrapText":15}],3:[function(require,module,exports){
module.exports=function(str){return(str+"").toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")};

},{}],4:[function(require,module,exports){
module.exports={red1:"#6C2315",red2:"#A23520",red3:"#D8472B",red4:"#E27560",red5:"#ECA395",red6:"#F5D1CA",orange1:"#714616",orange2:"#AA6A21",orange3:"#E38D2C",orange4:"#EAAA61",orange5:"#F1C696",orange6:"#F8E2CA",yellow1:"#77631B",yellow2:"#B39429",yellow3:"#EFC637",yellow4:"#F3D469",yellow5:"#F7E39B",yellow6:"#FBF1CD",teal1:"#0B403F",teal2:"#11605E",teal3:"#17807E",teal4:"#51A09E",teal5:"#8BC0BF",teal6:"#C5DFDF",blue1:"#28556F",blue2:"#3D7FA6",blue3:"#51AADE",blue4:"#7DBFE6",blue5:"#A8D5EF",blue6:"#D3EAF7"};

},{}],5:[function(require,module,exports){
module.exports=(s=>s.toLocaleString("en-US").replace(/\.0+$/,""));

},{}],6:[function(require,module,exports){
var getAPMonth=require("./getAPMonth"),formatters={yearAbbrev:d=>(d.getFullYear()+"").slice(-2),yearFull:d=>d.getFullYear(),dayYear:d=>d.getDate()+", "+d.getFullYear(),dateFull:d=>getAPMonth(d)+" "+formatters.dayYear(d)};module.exports=formatters;

},{"./getAPMonth":8}],8:[function(require,module,exports){
module.exports=function(date){return["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."][date.getMonth()]};

},{}],7:[function(require,module,exports){
module.exports=function(props){var s="";for(var key in props)s+=key+": "+props[key].toString()+"; ";return s};

},{}],9:[function(require,module,exports){
module.exports=function(href){var l=document.createElement("a");return l.href=href,l};

},{}],10:[function(require,module,exports){
module.exports=function(name){return new URLSearchParams(window.location.search).get(name)};

},{}],12:[function(require,module,exports){
module.exports=function(u=window.location.href){var parentURL=new URL(u).searchParams.get("parentUrl");return!parentURL||!new URL(parentURL).hostname.match(/^localhost|^stage-|^www-s1/i)};

},{}],13:[function(require,module,exports){
module.exports=((x,y)=>"translate("+x+", "+y+")");

},{}],14:[function(require,module,exports){
module.exports=function(url){var a=document.createElement("a");return a.href=url,a};

},{}],15:[function(require,module,exports){
module.exports=function(texts,width,lineHeight){"each"in texts&&(texts=texts.nodes()),texts.forEach(function(text){var words=text.textContent.split(/\s+/).reverse(),word=null,line=[],lineNumber=0,x=text.getAttribute("x")||0,y=text.getAttribute("y")||0,dx=parseFloat(text.getAttribute("dx"))||0,dy=parseFloat(text.getAttribute("dy"))||0;text.textContent="";var NS="http://www.w3.org/2000/svg",tspan=document.createElementNS(NS,"tspan");text.appendChild(tspan);var attrs={x:x,y:y,dx:dx+"px",dy:dy+"px"};for(var k in attrs)tspan.setAttribute(k,attrs[k]);for(;word=words.pop();)if(line.push(word),tspan.textContent=line.join(" "),tspan.getComputedTextLength()>width){for(var k in line.pop(),tspan.textContent=line.join(" "),line=[word],lineNumber+=1,tspan=document.createElementNS(NS,"tspan"),text.appendChild(tspan),attrs={x:x,y:y,dx:dx+"px",dy:lineNumber*lineHeight+dy+"px"})tspan.setAttribute(k,attrs[k]);tspan.textContent=word}})};

},{}]},{},[1])
//# sourceMappingURL=./graphic.js.map
